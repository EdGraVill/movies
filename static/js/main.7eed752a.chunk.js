(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{129:function(e,t,n){},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return d}));var r=n(14),a=n(27),c=n(29),i=n(39),o=n(0),s=!0,u=function(e,t,n){var r=[].concat(Object(i.a)(e),Object(i.a)(t)).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t[n],t))}),{});return Object.values(r)},l=function(e,t,n){var r="undefined"===typeof n?0:"number"===typeof n?1:n.length;if(e>=t||r>=t-e)throw new Error("Invalid operation:\n\n".concat(JSON.stringify({min:e,max:t,ignore:n},void 0,2)));var a=Math.floor(Math.random()*(t-e+1)+e);if("undefined"===typeof n||n instanceof Array&&!n.length)return a;if("number"===typeof n){for(;a===n;)a=Math.floor(Math.random()*(t-e+1)+e);return a}if(n instanceof Array&&"number"===typeof n[0]){for(;-1!==n.indexOf(a);)a=Math.floor(Math.random()*(t-e+1)+e);return a}throw new Error("Invalid operation:\n\n".concat(JSON.stringify({min:e,max:t,ignore:n},void 0,2)))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=o.useState(e),a=Object(r.a)(n,2),c=a[0],i=a[1];return o.useEffect((function(){var n=e,r=setTimeout((function(){i(n)}),t);return function(){clearTimeout(r)}}),[e,t]),c},b=function(){var e=location.search?location.search.replace("?","").split("&").reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t.split("=")[0],decodeURI(t.split("=")[1])))}),{}):{};return e.search?e.search:""},d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=o.useState(e),n=Object(r.a)(t,2),a=n[0],c=n[1],i=function(){c(!a)};return[a,i]}},77:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}},78:function(e,t,n){"use strict";var r=n(14),a=n(3),c=n(0),i=n.n(c),o=n(21),s=n(8),u=n(149),l=Object(u.a)({root:{backgroundColor:"white",display:"flex",justifyContent:"center",width:"100vw"},content:{maxWidth:1024,width:"95%"}}),f=function(e){var t=e.children,n=l();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)("div",{className:n.content,children:t})})},b=n(130),d=n(157),h=n(151),j=n(153),m=n(154),p=n(159),v=n(158),O=Object(u.a)({layout:{display:"flex"},image:{height:300,width:200},content:{display:"flex",flexFlow:"column nowrap",marginLeft:"1rem",width:300},genre:{margin:".3rem .5rem"}}),g=function(e){var t=e.movie,n=O(),r=Object(o.c)(s.b);return Object(a.jsx)(h.a,{elevation:5,children:Object(a.jsxs)(j.a,{className:n.layout,children:[Object(a.jsx)("img",{className:n.image,src:Object(s.c)(t.poster_path,{size:"200"})}),Object(a.jsxs)("div",{className:n.content,children:[Object(a.jsxs)(m.a,{gutterBottom:t.title===t.original_title,variant:"h5",children:[t.title," ",Object(a.jsx)(m.a,{variant:"caption",component:"span",children:t.release_date.slice(0,4)})]}),t.title!==t.original_title&&Object(a.jsxs)(m.a,{gutterBottom:!0,variant:"subtitle2",children:["(",t.original_title,")"]}),Object(a.jsxs)(m.a,{gutterBottom:!0,children:[Object(a.jsx)(v.a,{readOnly:!0,value:Math.floor((t.vote_average-1e-4)/2)+1}),Object(a.jsxs)(m.a,{variant:"caption",component:"span",children:[t.vote_count," votes"]})]}),Object(a.jsx)(m.a,{gutterBottom:!0,variant:"body2",children:t.overview}),Object(a.jsx)("div",{children:t.genre_ids.map((function(e){return Object(a.jsx)(p.a,{className:n.genre,label:r[e],size:"small"},e)}))})]})]})})},x=n(155),w=n(156),y=Object(u.a)({root:function(e){return{display:"flex",flexFlow:"column nowrap",gridRow:e.highlightFirst&&0===e.positionIx?"1/3":"initial","& p":e.highlightFirst&&0===e.positionIx?{overflow:"initial"}:{}}},media:{height:120},overview:{height:"6.1em",overflow:"hidden",textOverflow:"ellipsis"},area:{flexGrow:1,flexDirection:"column",alignItems:"stretch"}}),k=function(e){var t=e.highlightFirst,n=e.movie,r=e.onClick,c=e.positionIx,i=y({highlightFirst:t,positionIx:c}),u=Object(o.c)(s.j);return Object(a.jsx)(h.a,{className:i.root,children:Object(a.jsxs)(x.a,{className:i.area,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return r?r(n):null})),children:[Object(a.jsx)(w.a,{className:i.media,image:Object(s.c)(n.backdrop_path)}),Object(a.jsxs)(j.a,{children:["number"===typeof u.vote&&Object(a.jsx)(v.a,{readOnly:!0,size:"small",value:u.vote}),Object(a.jsx)(m.a,{gutterBottom:!0,children:n.title}),Object(a.jsx)(m.a,{className:i.overview,color:"textSecondary",component:"p",variant:"body2",children:n.overview})]})]})})},F=n(52),S=n.n(F),C=Object(u.a)({text:{fontSize:"2rem",margin:"1.5rem 0"}}),N=function(e){var t=e.children,n=C();return Object(a.jsx)(S.a,{className:n.text,spring:F.presets.wobbly,text:t})},T=Object(u.a)({container:function(e){return{display:"grid",columnGap:"1rem",gridTemplateColumns:e.highlightFirst?"1.5fr repeat(3, 1fr)":"repeat(4, 1fr)",gridTemplateRows:"repeat(".concat(e.rows,", 300px)"),marginBottom:"5rem",overflow:"hidden",rowGap:"repeat(".concat(e.rows,", 2rem)"),transition:"all 0.3s cubic-bezier(.25, .8, .25, 1)"}},modal:{alignItems:"center",display:"flex",justifyContent:"center"}}),I=function(e){var t=e.highlightFirst,n=void 0!==t&&t,i=e.movieList,o=e.title,s=e.rows,u=void 0===s?2:s,l=T({highlightFirst:n,rows:u}),f=c.useState(!1),h=Object(r.a)(f,2),j=h[0],m=h[1],p=c.useState(null),v=Object(r.a)(p,2),O=v[0],x=v[1],w=c.useCallback((function(){m(!1),x(null)}),[]),y=c.useCallback((function(e){m(!0),x(e)}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{children:o}),Object(a.jsx)(b.a,{className:l.container,elevation:0,children:i.filter((function(e,t){return t<4*u-(n?1:0)})).map((function(e,t){return Object(a.jsx)(k,{highlightFirst:n,movie:e,onClick:y,positionIx:t},e.id)}))}),Object(a.jsx)(d.a,{className:l.modal,open:j,onClose:w,children:O?Object(a.jsx)(g,{movie:O}):Object(a.jsx)(a.Fragment,{})})]})},L=n(9),M=n.n(L),E=n(25),z=n(16),_=n.p+"static/media/logo.b07c04a5.svg",D=n(75),B=n.n(D),R=n(76),A=n.n(R),G=Object(u.a)({container:{alignItems:"center",display:"flex",flexFlow:"column nowrap",position:"relative"},search:{backgroundColor:"rgba(255, 255, 255, .85)",border:0,borderRadius:".5rem",fontSize:"1.1rem",marginTop:"3rem",padding:".8rem 2.5rem",textAlign:"center",width:400,zIndex:2,"&:focus":{outline:"none"},"&:not(:placeholder-shown) + div":{opacity:1}},filter:{marginTop:"1rem",opacity:0,transition:"all 0.3s cubic-bezier(.25, .8, .25, 1)"},clear:{backgroundColor:"transparent",border:0,color:"black",cursor:"pointer",position:"absolute",right:".5rem",top:"3.6rem","&:focus":{outline:"none"},zIndex:3}}),J=function(){var e=Object(o.b)(),t=G(),n=c.useState(Object(z.a)()),i=Object(r.a)(n,2),u=i[0],l=i[1],f=Object(z.e)(u,500),b=Object(z.f)(!1),d=Object(r.a)(b,2),h=d[0],j=d[1],m=c.useState(),O=Object(r.a)(m,2),g=O[0],x=O[1];c.useEffect((function(){f&&e(s.f.setSearchText(f))}),[f]),c.useEffect((function(){u||e(s.f.clearSearchText())}),[u]),c.useEffect((function(){h||x(null)}),[h]),c.useEffect((function(){e(s.f.setSearchFilters({vote:g}))}),[g]);var w=c.useCallback((function(e){l(e.currentTarget.value)}),[]),y=c.useCallback((function(e,t){x(t)}),[]);return Object(a.jsxs)("div",{className:t.container,children:[Object(a.jsx)("input",{className:t.search,onChange:w,placeholder:"Search for your next favorite story",value:u}),Object(a.jsx)(p.a,{avatar:Object(a.jsx)(B.a,{}),className:t.filter,clickable:!0,label:h?Object(a.jsx)(v.a,{name:"vote",onChange:y,value:g}):"Filter Results",onDelete:h?j:void 0,onClick:h?void 0:j}),u&&Object(a.jsx)("button",{className:t.clear,onClick:function(){return l("")},children:Object(a.jsx)(A.a,{})})]})},P=Object(u.a)({container:{height:500,position:"relative",transition:"all 0.3s cubic-bezier(.25, .8, .25, 1)"},containerInSearch:{height:200,"& .brand":{marginBottom:"-200px",opacity:0}},backgorund:{backgroundColor:"black",bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0},imagesContainer:{height:500,transform:"rotate(30deg)",width:"200vw"},image:{animation:"jumbo_image 20s infinite",animationDirection:"alternate",animationTimingFunction:"linear",backfaceVisibility:"hidden",height:150,objectFit:"contain",perspective:1e3,position:"relative",width:100},content:{alignItems:"center",backgroundColor:"rgba(0, 0, 0, .4)",backdropFilter:"blur(2px)",display:"flex",flexFlow:"column nowrap",height:"100%",justifyContent:"center",position:"relative",width:"100%"},brand:{alignItems:"center",display:"flex",flexFlow:"column nowrap",justifyContent:"center",transition:"all 0.3s cubic-bezier(.25, .8, .25, 1)"},title:{color:"white",fontFamily:"",fontSize:"3rem"},logo:{margin:"0 auto",width:100}}),U=function(){var e=Object(E.a)(M.a.mark((function e(t){var n,r,a,c,i=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:20,r=new Array(n).fill(0).map((function(e,t,n){return Object(z.d)(1,50,n)})),e.next=4,Promise.all(r.map(Object(E.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.a)({page:Object(z.d)(1,500)}));case 1:case"end":return e.stop()}}),e)})))));case 4:a=e.sent,c=a.flatMap((function(e){return e.data.results.filter((function(e){return!!e.poster_path})).map((function(e){var t=e.poster_path;return Object(s.c)(t,{size:"200"})}))})),t(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=c.useState([]),t=Object(r.a)(e,2),n=t[0],i=t[1],o=P();return c.useEffect((function(){n.length||U((function(e){return i(e.map((function(e){return{animationDuration:"".concat(Object(z.d)(20,30),"s"),opacity:Math.random(),url:e,x:Object(z.d)(-5,5),y:Object(z.d)(-5,5)}})))}))}),[]),Object(a.jsxs)(b.a,{className:o.container,elevation:5,children:[Object(a.jsx)("div",{className:o.backgorund,children:Object(a.jsx)("div",{className:o.imagesContainer,children:n.map((function(e,t){var n=e.animationDuration,r=e.opacity,c=e.url,i=e.x,s=e.y;return Object(a.jsx)("img",{className:o.image,src:c,style:{animationDuration:n,opacity:r,transform:"translateX(".concat(i,"em) translateY(").concat(s,"em)")}},t)}))})}),Object(a.jsxs)("div",{className:o.content,children:[Object(a.jsxs)("div",{className:"brand ".concat(o.brand),children:[Object(a.jsx)("img",{alt:"CINEMARS LOGO",className:o.logo,src:_}),Object(a.jsx)("h1",{className:o.title,children:"CINEMARS"})]}),Object(a.jsx)(J,{})]})]})},V=function(){var e=c.useState([]),t=Object(r.a)(e,2),n=t[0],a=t[1],i=c.useCallback(Object(E.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)();case 2:t=e.sent,a(t.data.results);case 4:case"end":return e.stop()}}),e)}))),[]);return c.useEffect((function(){i()}),[]),[n,i]};t.a=function(){var e=Object(o.b)(),t=Object(o.c)(s.e),n=Object(o.c)(s.l),c=Object(o.c)(s.k),u=V(),l=Object(r.a)(u,1)[0];return i.a.useEffect((function(){n||e(s.f.fetchDiscovery({sort_by:"popularity.desc"}))}),[n]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q,{}),Object(a.jsxs)(f,{children:[Object(a.jsx)(I,{highlightFirst:!n,movieList:n?c:t,rows:n?Math.floor(c.length/4)+1:2,title:n?"Search results":"Popular Movies"}),Object(a.jsx)(I,{movieList:l,title:"Trending"})]})]})}},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"h",(function(){return N})),n.d(t,"g",(function(){return T}));var r=n(9),a=n.n(r),c=n(25),i=n(69),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:"original"},n="original"===t.size?"original":"w".concat(t.size);return"https://image.tmdb.org/t/p/".concat(n,"/").concat(e)},s=n.n(i).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"c076492e6459d16464611cae34b26ad3"}}),u=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("/discover/movie",{params:t||{}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("/genre/movie/list"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("/search/movie",{params:t||{}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("/trending/movie/day"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=n(22),h=n(24),j=function(e){return e.movies},m=Object(h.a)(j,(function(e){return e.genreMap})),p=Object(h.a)(m,(function(e){return Object.values(e).length})),v=Object(h.a)(j,(function(e){return e.searchText})),O=Object(h.a)(j,(function(e){return e.movieList})),g=Object(h.a)(j,(function(e){var t=e.searchList,n=e.searchFilters,r=t;if("number"===typeof(null===n||void 0===n?void 0:n.vote)){var a=2*n.vote-2,c=2*n.vote;r=r.filter((function(e){var t=e.vote_average;return t>=a&&t<=c}))}return r})),x=Object(h.a)(j,(function(e){return e.searchFilters})),w=n(27),y=n(29),k=n(32),F=n(16),S=Object(k.b)({initialState:{isFetching:!1,lastError:null,genreMap:{},movieList:[],searchList:[],searchFilters:{},searchText:Object(F.a)()},name:"movies",reducers:{fetchDiscovery:function(e,t){t.payload;e.isFetching=!0},fulfillMovieList:function(e,t){var n=t.payload;e.isFetching=!1,e.movieList=Object(F.c)(e.movieList,n,"id")},fulfillGenreMap:function(e,t){var n=t.payload;e.genreMap=n.genres.reduce((function(e,t){return Object(y.a)(Object(y.a)({},e),{},Object(w.a)({},t.id,t.name))}),{})},catchError:function(e,t){var n=t.payload;e.lastError=n},clearError:function(e){e.lastError=null},setSearchText:function(e,t){var n=t.payload;e.searchText=n,n||(e.searchList=[],e.searchFilters={})},clearSearchText:function(e){e.searchText="",e.searchList=[],e.searchFilters={}},fulfillSearchList:function(e,t){var n=t.payload;e.searchList=n},setSearchFilters:function(e,t){var n=t.payload;e.searchFilters=n||{}}}}),C=S.actions,N=S.name,T=S.reducer,I=a.a.mark(E),L=a.a.mark(z),M=a.a.mark(_);function E(e){var t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(d.a)(u,t);case 4:return n=a.sent,a.next=7,Object(d.b)(C.fulfillMovieList(n.data.results));case 7:return a.next=9,Object(d.c)(p);case 9:if(a.sent){a.next=16;break}return a.next=13,Object(d.a)(l);case 13:return r=a.sent,a.next=16,Object(d.b)(C.fulfillGenreMap(r.data));case 16:a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(1),a.next=22,Object(d.b)(C.catchError(a.t0.message));case 22:case"end":return a.stop()}}),I,null,[[1,18]])}function z(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.c)(v);case 2:if(e=n.sent){n.next=7;break}history.replaceState("",document.title,"".concat(location.pathname)),n.next=20;break;case 7:return history.replaceState("",document.title,"".concat(location.pathname,"?search=").concat(e)),n.prev=8,n.next=11,Object(d.a)(f,{query:e,include_adult:!1});case 11:return t=n.sent,n.next=14,Object(d.b)(C.fulfillSearchList(t.data.results));case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(8),n.next=20,Object(d.b)(C.catchError(n.t0.message));case 20:case"end":return n.stop()}}),L,null,[[8,16]])}function _(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(C.fetchDiscovery,E);case 2:return e.next=4,Object(d.d)(["@@INIT",C.setSearchText,C.clearSearchText],z);case 4:case"end":return e.stop()}}),M)}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(39),a=n(27),c=n(32),i=n(20),o=n(79),s=n(8),u=n(16),l=Object(a.a)({},s.h,s.g),f=function(){var e=Object(o.a)(),t=Object(c.a)({reducer:Object(i.c)(l),devTools:!u.b,middleware:[].concat(Object(r.a)(Object(c.c)()),[e])});return e.run(s.i),t}},82:function(e,t,n){"use strict";n.r(t),function(e){var t=n(3),r=n(0),a=n.n(r),c=n(15),i=n.n(c),o=n(21),s=n(78),u=n(77),l=n(80);n(129);e.versions.node="14.0";var f=Object(l.a)();i.a.render(Object(t.jsx)(o.a,{store:f,children:Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(s.a,{})})}),document.getElementById("root")),Object(u.a)(console.log)}.call(this,n(54))}},[[82,1,2]]]);
//# sourceMappingURL=main.7eed752a.chunk.js.map